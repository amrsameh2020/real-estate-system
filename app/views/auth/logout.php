<?php
// File: app/views/auth/logout.php

/**
 * ===================================================================
 * صفحة معالجة تسجيل الخروج (Logout Handler)
 * ===================================================================
 * هذه ليست صفحة مرئية، بل هي نقطة نهاية (endpoint) لمعالجة عملية تسجيل الخروج.
 * تقوم بتدمير جلسة المستخدم الحالية بالكامل ثم تعيد توجيهه إلى صفحة
 * تسجيل الدخول مع رسالة نجاح.
 */

// الخطوة 1: تضمين ملف التشغيل الأساسي للوصول إلى الدوال والكلاسات
// هذا ضروري للوصول إلى كلاس Auth و Session
require_once __DIR__ . '/../../core/bootstrap.php';

// الخطوة 2: استدعاء دالة تسجيل الخروج
// هذه الدالة من كلاس Auth تقوم بتدمير الجلسة بالكامل
Auth::logout();

// الخطوة 3: تعيين رسالة نجاح للمستخدم
// سيتم عرض هذه الرسالة في صفحة تسجيل الدخول بفضل نظام _alerts.php
Session::flash('success', 'تم تسجيل الخروج بنجاح. نراك قريباً!');

// الخطوة 4: إعادة توجيه المستخدم إلى صفحة تسجيل الدخول
redirect('public/index.php?url=login');

